<div id="fondo">
<nav class="navbar navbar-dark bg-primary">
  <a class="navbar-brand" href="#">Encuesta Docente</a>
  <div class="dropdown">
    <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
      Alumno
    </button>
    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
      <a class="dropdown-item" (click)="logout()" href="#" style="color:#000000;">Logout</a>
    </div>
  </div>
</nav>


<div *ngIf="instPage" class="card-instructions">
  <ngx-spinner></ngx-spinner>
    <div class="preguntas card">
      <br>
      <div class="list-group">
          <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">Bienvenido a la Nueva Encuesta Docente UNOFFICIAL 2020!</h5>
            <small></small>
          </div>
          
          <p class="mb-1">Estás a puertas de responder la nueva encuesta docente. En esta encuesta te encontrarás con 3 secciones generales, las cuales se explican a continuación:</p>
          <br>
          <ul>
            <li>
              <h6>Selección Múltiple (OBLIGATORIO)</h6>
              <p>Consta de un total de 15 preguntas, divididas en 5 distintas secciones relacionadas al área a evaluar por cada docente. Estas secciones son:</p>
              <ul>
                <li>Uso del Aula Virtual</li>
                <li>Contenido del Curso</li>
                <li>Actitud</li>
                <li>Responsabilidad</li>
                <li>Metodología de Enseñanza</li>
              </ul>
            </li>
            <br>
            <li>
              <h6>Comentarios</h6>
              <p>Usted podrá dejar comentarios, resaltando tanto aspectos positivos como negativos para cada profesor asociado a cada curso inscrito. </p>
            </li>
            <li>
              <h6>Insignias</h6>
              <p>Usted podrá asignar insignias predefinidas a cada profesor asociado a cada curso inscrito. De una lista podrá seleccionar insignias tanto positivas como negativas.</p>
            </li>
          </ul>
              
      </div>
      <div>
        <button type="button" class="btn btn-success" id="next-button" (click)="comenzarEncuesta()">Comenzar Encuesta</button>
      </div>
    </div>
</div>

<div *ngIf="!instPage">
  <div [ngSwitch]="page" class="container">

    <div *ngSwitchCase=0> 
      <div *ngFor="let qst of encuesta.questions;let i=index" class="preguntas card">
        <br>
        <p class="text-xl-center">USO AULA VIRTUAL</p>
        <div id="{{qst._id}}" class="pregunta"> 
          <h5>{{qst.question}}</h5>
        </div>
        <br>
        <table class="table">
          <tbody>
            <tr>
              <th scope="col">Profesor(a)</th>
              <th scope="col">Curso</th>       
              <th scope="col" *ngFor="let opt of options; let i=index">
                {{opt.name}}
              </th>
            </tr>
              <tr *ngFor="let profe of namesProfes">
                <td scope="row" id="{{profe.idP}}">{{profe.nameP}}</td>
                <td scope="row" id="{{profe.idC}}">{{profe.nameC}}</td>         
                <td scope="row" *ngFor="let opt of options; let i=index">
                  <input type="radio" id="{{qst._id}}" name="{{qst._id}}{{profe.idC}}{{profe.idP}}" [value]="opt.value" (click)="actualizarRespuesta($event)">
                </td>
              </tr>     
          </tbody>
        </table>
      </div>
      <div>
        <p>NOTA: AL HACER CLICK EN SIGUIENTE NO PODRA VOLVER A EDITAR LAS RESPUESTAS DE ESTA PAGINA</p>
        <button type="button" class="btn btn-success" id="next-button" (click)="changeEncuesta()">Siguiente</button>
      </div>
    </div>
    <div *ngSwitchCase=1> 
      <div *ngFor="let qst of encuesta.questions;let i=index" class="preguntas card">
        <br>
        <p class="text-xl-center">CONTENIDO DEL CURSO</p>
        <div id="{{qst._id}}" class="pregunta"> 
          <h5>{{qst.question}}</h5>
        </div>
        <br>
        <table class="table">
          <tbody>
            <tr>
              <th scope="col">Profesor(a)</th>
              <th scope="col">Curso</th>       
              <th scope="col" *ngFor="let opt of options; let i=index">
                {{opt.name}}
              </th>
            </tr>
              <tr *ngFor="let profe of namesProfes">
                <td scope="row" id="{{profe.idP}}">{{profe.nameP}}</td>
                <td scope="row" id="{{profe.idC}}">{{profe.nameC}}</td>         
                <td scope="row" *ngFor="let opt of options; let i=index">
                  <input type="radio" id="{{qst._id}}" name="{{qst._id}}{{profe.idC}}{{profe.idP}}" [value]="opt.value" (click)="actualizarRespuesta($event)">
                </td>
              </tr>     
          </tbody>
        </table>
      </div>
      <div>
        <p>NOTA: AL HACER CLICK EN SIGUIENTE NO PODRA VOLVER A EDITAR LAS RESPUESTAS DE ESTA PAGINA</p>
        <button type="button" class="btn btn-success" id="next-button" (click)="changeEncuesta()">Siguiente</button>
      </div>
    </div>
    <div *ngSwitchCase=2> 
      <div *ngFor="let qst of encuesta.questions;let i=index" class="preguntas card">
        <br>
        <p class="text-xl-center">ACTITUD</p>
        <div id="{{qst._id}}" class="pregunta"> 
          <h5>{{qst.question}}</h5>
        </div>
        <br>
        <table class="table">
          <tbody>
            <tr>
              <th scope="col">Profesor(a)</th>
              <th scope="col">Curso</th>       
              <th scope="col" *ngFor="let opt of options; let i=index">
                {{opt.name}}
              </th>
            </tr>
              <tr *ngFor="let profe of namesProfes">
                <td  scope="row" id="{{profe.idP}}">{{profe.nameP}}</td>
                <td  scope="row" id="{{profe.idC}}">{{profe.nameC}}</td>         
                <td scope="row" *ngFor="let opt of options; let i=index">
                  <input type="radio" id="{{qst._id}}" name="{{qst._id}}{{profe.idC}}{{profe.idP}}" [value]="opt.value" (click)="actualizarRespuesta($event)">
                </td>
              </tr>     
          </tbody>
        </table>
      </div>
      <div>
        <p>NOTA: AL HACER CLICK EN SIGUIENTE NO PODRA VOLVER A EDITAR LAS RESPUESTAS DE ESTA PAGINA</p>
        <button type="button" class="btn btn-success" id="next-button" (click)="changeEncuesta()">Siguiente</button>
      </div>
    </div>
    <div *ngSwitchCase=3> 
      <div *ngFor="let qst of encuesta.questions;let i=index" class="preguntas card">
        <br>
        <p class="text-xl-center">RESPONSABILIDAD</p>
        <div id="{{qst._id}}" class="pregunta"> 
          <h5>{{qst.question}}</h5>
        </div>
        <br>
        <table class="table">
          <tbody>
            <tr>
              <th scope="col">Profesor(a)</th>
              <th scope="col">Curso</th>       
              <th scope="col" *ngFor="let opt of options; let i=index">
                {{opt.name}}
              </th>
            </tr>
              <tr *ngFor="let profe of namesProfes">
                <td scope="row" id="{{profe.idP}}">{{profe.nameP}}</td>
                <td scope="row" id="{{profe.idC}}">{{profe.nameC}}</td>         
                <td scope="row" *ngFor="let opt of options; let i=index">
                  <input type="radio" id="{{qst._id}}" name="{{qst._id}}{{profe.idC}}{{profe.idP}}" [value]="opt.value" (click)="actualizarRespuesta($event)">
                </td>
              </tr>     
          </tbody>
        </table>
      </div>
      <div>
        <p>NOTA: AL HACER CLICK EN SIGUIENTE NO PODRA VOLVER A EDITAR LAS RESPUESTAS DE ESTA PAGINA</p>
        <button type="button" class="btn btn-success" id="next-button" (click)="changeEncuesta()">Siguiente</button>
      </div>
    </div>
    <div *ngSwitchCase=4> 
      <div *ngFor="let qst of encuesta.questions;let i=index" class="preguntas card">
        <br>
        <p class="text-xl-center">METODOLOGIA DE ENSEÑANZA</p>
        <div id="{{qst._id}}" class="pregunta"> 
          <h5>{{qst.question}}</h5>
        </div>
        <br>
        <table class="table">
          <tbody>
            <tr>
              <th scope="col">Profesor(a)</th>
              <th scope="col">Curso</th>       
              <th scope="col" *ngFor="let opt of options; let i=index">
                {{opt.name}}
              </th>
            </tr>
              <tr *ngFor="let profe of namesProfes">
                <td scope="row" id="{{profe.idP}}">{{profe.nameP}}</td>
                <td scope="row" id="{{profe.idC}}">{{profe.nameC}}</td>         
                <td scope="row" *ngFor="let opt of options; let i=index">
                  <input type="radio" id="{{qst._id}}" name="{{qst._id}}{{profe.idC}}{{profe.idP}}" [value]="opt.value" (click)="actualizarRespuesta($event)">
                </td>
              </tr>     
          </tbody>
        </table>
      </div>
      <div>
        <p>NOTA: AL HACER CLICK EN SIGUIENTE NO PODRA VOLVER A EDITAR LAS RESPUESTAS DE ESTA PAGINA</p>
        <button type="button" class="btn btn-success" id="next-button" (click)="changeEncuesta()">Siguiente</button>
      </div>
      
    </div>
  
    <div *ngSwitchCase=5>
     
      <div class="preguntas card">
        <br>
        <p class="text-xl-center">COMENTARIOS</p>
        <br>
          <div class="input-group" *ngFor="let profe of namesProfes" id="box-comentario">
            <div class="input-group-prepend" id="{{profe.idC}}">
              <span id="{{profe.idP}}" class="input-group-text">{{profe.nameP}}<br>{{profe.nameC}}</span>
            </div>
            <textarea class="form-control" aria-label="With textarea" id="{{profe.idP}}{{profe.idC}}"></textarea>
          </div>
      </div>
      <div>
        <p>NOTA: AL HACER CLICK EN SIGUIENTE NO PODRA VOLVER A EDITAR LAS RESPUESTAS DE ESTA PAGINA</p>
        <button type="button" class="btn btn-success" id="next-button" (click)="changeEncuestaComm()">Siguiente</button>
      </div>
      
    </div>
  
  
    <div *ngSwitchCase=6 class="container">
      <ngx-spinner></ngx-spinner>
      <div class="preguntas card">
        <br>
        <p class="text-xl-center">INSIGNIAS</p>
        <br>
        <table class="table">
          <tbody>
            <tr>
              <th scope="col">Insignia</th>
              <th scope="col" *ngFor="let profe of namesProfes" id="{{profe.idP}}{{profe.idC}}">
                <span>{{profe.nameP}}</span><br>
                <span>{{profe.nameC}}</span>
              </th>
            </tr>
   
            <tr *ngFor="let badge of badges;let i=index">
              <td scope="row"><i class={{classIcons[i]}}> {{ badge.name}}</i></td>
              <td scope="row" *ngFor="let profe of namesProfes">
                <div id="{{profe.idP}}">
                  <input type="checkbox" id="{{profe.idC}}" name="{{profe.idC}}{{profe.idP}}" [value]="badge._id" (click)="addBadge($event)">
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
  
      <div>
        <p>FINALIZAR ENCUESTA</p>
        <button type="button" class="btn btn-danger" id="next-button" (click)="sendEncuesta()">Finalizar y Enviar</button>
      </div>
  
    </div>
  
  </div> 
</div>
</div>

